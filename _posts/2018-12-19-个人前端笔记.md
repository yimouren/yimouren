---
layout:     post
title:      个人前端笔记
subtitle:   零散知识点记录
date:       2018-12-19
author:     Ayi
header-img: 
catalog: true
tags:
    - 笔记
---

>更新时间：2018-12-19

### 关于element组件tree中props的理解

```
<el-tree :data="treedata" :props="defaultProps" :indent="10" highlight-current></el-tree>
```

```
defaultProps: {
children: 'children',
label: 'acqGroupName',
isLeaf: 'isLeaf'
}
```

![](https://i.imgur.com/MSZsLlx.png)

通过这个可以根据后台返回的字段的数据赋值到树上

### 从已有的数组返回选定的元素或从以后的字符串返回指定字符

方法：[slice()](http://www.w3school.com.cn/js/jsref_slice_array.asp)

语法：slice(start, end)

>不包含start和end本身元素

该方法不会改变原有数组，而是返回一个子数组，可以使用负值从尾部选取元素

### 从数组中选出所有符合条件的元素

方法: [filter()](http://www.runoob.com/jsref/jsref-filter.html)

语法：

```
this.moreWayPoints = this.moreWayPoints.filter((e) => { // 过滤数组不为空
  return e.addressValue !== ''
})
```

改方法不会对空数组进行检测，不会改变原始数组。

### listeners 和 attrs

[参考博客](https://juejin.im/post/5ae4288a5188256712784787)

用法：
```
<route-manage
  v-on="$listeners"
  v-bind="$attrs"
  :isroutevisiable="isRouteVisiable"
  ref="routemanage"
  >
</route-manage>
```
- $listeners可以使子组件直接使用父组件的方法，但是不能跨级，比如有父组件，组件1，组件2，组件2是组件1的子组件，组件1是父组件的子组件，理论上说组件2应该是父组件的孙组件。
但是如果组件2使用了`$listeners`，那么组件2和组件1在父组件看起来是平级的，都是子组件，所以组件2能直接通过`$emit`使用父组件的方法或者传值给父组件。
否则组件2要和父组件通信，只能先传给组件1，再让组件1传给父组件

- $attrs可以传值给子组件，子组件可以不用通过porps注册，直接通过`$attrs.变量名`使用，在本例子中的用法就是
```
// 监听
watch: {
  '$attrs.isroutevisiable' (val) {}
}
// 在方法中使用
methods: {
  handle () {
       let demo = this.$attrs.isroutevisiable
    }
}
```
